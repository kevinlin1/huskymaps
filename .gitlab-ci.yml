stages:
  - Deques
  - Autocomplete
  - Priority Queues
  - Shortest Paths

workflow:
  auto_cancel:
    on_job_failure: none

ArrayListDequeTests:
  stage: Deques
  rules:
    - changes:
        - src/main/java/deques/*.java
  script: ./gradlew --warning-mode=all test --tests "deques.ArrayListDequeTests"
  when: always

ArrayDequeTests:
  stage: Deques
  rules:
    - changes:
        - src/main/java/deques/*.java
  script: ./gradlew --warning-mode=all test --tests "deques.ArrayDequeTests"
  when: always

LinkedDequeTests:
  stage: Deques
  rules:
    - changes:
        - src/main/java/deques/*.java
  script: ./gradlew --warning-mode=all test --tests "deques.LinkedDequeTests"
  when: always

TreeSetAutocompleteTests:
  stage: Autocomplete
  rules:
    - changes:
        - src/main/java/autocomplete/*.java
  script: ./gradlew --warning-mode=all test --tests "autocomplete.TreeSetAutocompleteTests"
  when: always

SequentialSearchAutocompleteTests:
  stage: Autocomplete
  rules:
    - changes:
        - src/main/java/autocomplete/*.java
  script: ./gradlew --warning-mode=all test --tests "autocomplete.SequentialSearchAutocompleteTests"
  when: always

BinarySearchAutocompleteTests:
  stage: Autocomplete
  rules:
    - changes:
        - src/main/java/autocomplete/*.java
  script: ./gradlew --warning-mode=all test --tests "autocomplete.BinarySearchAutocompleteTests"
  when: always

TernarySearchTreeAutocompleteTests:
  stage: Autocomplete
  rules:
    - changes:
        - src/main/java/autocomplete/*.java
  script: ./gradlew --warning-mode=all test --tests "autocomplete.TernarySearchTreeAutocompleteTests"
  when: always

DoubleMapMinPQTests:
  stage: Priority Queues
  rules:
    - changes:
        - src/main/java/minpq/*.java
  script: ./gradlew --warning-mode=all test --tests "minpq.DoubleMapMinPQTests"
  when: always

UnsortedArrayMinPQTests:
  stage: Priority Queues
  rules:
    - changes:
        - src/main/java/minpq/*.java
  script: ./gradlew --warning-mode=all test --tests "minpq.UnsortedArrayMinPQTests"
  when: always

HeapMinPQTests:
  stage: Priority Queues
  rules:
    - changes:
        - src/main/java/minpq/*.java
  script: ./gradlew --warning-mode=all test --tests "minpq.HeapMinPQTests"
  when: always

OptimizedHeapMinPQTests:
  stage: Priority Queues
  rules:
    - changes:
        - src/main/java/minpq/*.java
  script: ./gradlew --warning-mode=all test --tests "minpq.OptimizedHeapMinPQTests"
  when: always

AdjacencyListSeamFinderTests:
  stage: Shortest Paths
  rules:
    - changes:
        - src/main/java/graphs/**/*.java
        - src/main/java/seamfinding/**/*.java
  script: ./gradlew --warning-mode=all test --tests "seamfinding.AdjacencyListSeamFinderTests"
  when: always

GenerativeSeamFinderTests:
  stage: Shortest Paths
  rules:
    - changes:
        - src/main/java/graphs/**/*.java
        - src/main/java/seamfinding/**/*.java
  script: ./gradlew --warning-mode=all test --tests "seamfinding.GenerativeSeamFinderTests"
  when: always

DynamicProgrammingSeamFinderTests:
  stage: Shortest Paths
  rules:
    - changes:
        - src/main/java/graphs/**/*.java
        - src/main/java/seamfinding/**/*.java
  script: ./gradlew --warning-mode=all test --tests "seamfinding.DynamicProgrammingSeamFinderTests"
  when: always